<html><head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>RPI_lock</title>
    <style type="text/css" media="all">
      @import url("scilab_code.css");
      @import url("xml_code.css");
      @import url("c_code.css");
      @import url("style.css");
    </style>
  </head>
  <body>
    <div class="manualnavbar">
    <table width="100%"><tr>
      <td width="30%">
    	<span class="previous"><a href="RPI_lcdSendCommand.html">&lt;&lt; RPI_lcdSendCommand</a></span>

      </td>
      <td width="40%" class="center">
      	<span class="top"><a href="section_cabfeefa8e519c8691be3f673d67f85d.html">Raspberry Pi LAN Control</a></span>

      </td>
      <td width="30%" class="next">
      	<span class="next"><a href="RPI_mcp23008Setup.html">RPI_mcp23008Setup &gt;&gt;</a></span>

      </td>
    </tr></table>
      <hr />
    </div>



    <span class="path"><a href="index.html">Raspberry Pi LAN Control</a> &gt;&gt; <a href="section_cabfeefa8e519c8691be3f673d67f85d.html">Raspberry Pi LAN Control</a> &gt; RPI_lock</span>

    <br /><br />
    <div class="refnamediv"><h1 class="refname">RPI_lock</h1>
    <p class="refpurpose">Function to synchronize variable updates from the main program to any threads running in the program</p></div>


<div class="refsynopsisdiv"><h3 class="title">Calling Sequence</h3>
   <div class="synopsis"><pre><span class="functionid">RPI_lock</span><span class="default">(</span><span class="default">key</span><span class="default">)</span></pre></div></div>

<div class="refsection"><h3 class="title">Parameters</h3>
   <dl><dt><span class="term">key:</span>
      <dd><p class="para">a number from 0 to 3 representing a &#0039;key&#0039;</p></dd></dt></dl></div>

<div class="refsection"><h3 class="title">Description</h3>
   <p class="para">This function allows synchronising variable updates from main program to any threads running in the program. When another process tries to lock the same key, it will be stalled until the first process has unlocked the same key.</p>
   <p class="para">The function is necessary to ensure valid data retreiveal when exchanging data between the main program and a thread – otherwise it’s possible that the thread could wake-up halfway during data copy and change the data – so the data copied is incomplete, or invalid</p>
   <p class="para"></p></div>

<div class="refsection"><h3 class="title">Examples</h3>
   <div class="programlisting"><table border="0" width="100%"><tr><td width="98%"><pre class="scilabcode"><span class="scilabid">PI_THREAD</span><span class="scilabopenclose">(</span><span class="scilabid">myThread</span><span class="scilabopenclose">)</span>
<span class="scilabopenclose">{</span>
<span class="scilabspecial">..</span> <span class="scilabid">thread</span> <span class="scilabid">code</span>
<span class="scilabid">RPI_lock</span><span class="scilabopenclose">(</span><span class="scilabnumber">0</span><span class="scilabopenclose">)</span>
<span class="scilabspecial">..</span> <span class="scilabid">thread</span> <span class="scilabid">code</span> <span class="scilabid">continues</span>
<span class="scilabopenclose">}</span></pre></td><td valign="top"><a href="scilab://scilab.execexample/"><img src="ScilabExecute.png" border="0"/></a></td><td valign="top"><a href="scilab://scilab.editexample/"><img src="ScilabEdit.png" border="0"/></a></td><td></td></tr></table></div></div>

<div class="refsection"><h3 class="title">See also</h3>
   <ul class="itemizedlist"><li class="member"><a href="scilab://RPI_unlock,RPI_threadCreate" class="link">RPI_unlock,RPI_threadCreate</a></li></ul></div>

<div class="refsection"><h3 class="title">Authors</h3>
   <ul class="itemizedlist"><li class="member">Jorawar Singh</li></ul></div>

<div class="refsection"><h3 class="title">Bibliography</h3>
   <p class="para">http://wiringpi.com/reference/</p></div>
    <br />

    <div class="manualnavbar">
    <table width="100%">
    <tr><td colspan="3" class="next"><a href="http://bugzilla.scilab.org/enter_bug.cgi?product=Scilab%20software&component=Documentation%20pages" class="ulink">Report an issue</a></td></tr>
<tr>
      <td width="30%">
    	<span class="previous"><a href="RPI_lcdSendCommand.html">&lt;&lt; RPI_lcdSendCommand</a></span>

      </td>
      <td width="40%" class="center">
      	<span class="top"><a href="section_cabfeefa8e519c8691be3f673d67f85d.html">Raspberry Pi LAN Control</a></span>

      </td>
      <td width="30%" class="next">
      	<span class="next"><a href="RPI_mcp23008Setup.html">RPI_mcp23008Setup &gt;&gt;</a></span>

      </td>
    </tr></table>
      <hr />
    </div>
  </body>
</html>
